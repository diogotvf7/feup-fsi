# Semana 11

## Becoming a certificate authority

A certificate authority is an entity that issues digital certificates. A digital certificate certifies the ownership of a public key by the named subject of the certificate. This allows others (relying parties) to rely upon signatures or on assertions made about the private key that corresponds to the certified public key.


### Tarefa 1

<details>
    <summary>Generated key</summary>
    <hr>

```bash
-----BEGIN ENCRYPTED PRIVATE KEY-----
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
KSaKb6mPWz23R0Fv6eaieQ==
-----END ENCRYPTED PRIVATE KEY-----
```

</details>

<details>
    <summary>What part of the certificate indicates this is a CA’s certificate?</summary>
    <img src="images/logbook11/root-certificate.png">
</details>

<details>
    <summary>What part of the certificate indicates this is a self-signed certificate?</summary>
    <img src="images/logbook11/self-assigned.png">
</details>

<details>
    <summary>Modulus (n) </summary>
    <img src="images/logbook11/modulus.png">
</details>
<details>
    <summary>Public Exponent (e)</summary>
    <img src="images/logbook11/exponent.png">
</details>

<details>
    <summary>Private Exponent (d)</summary>
    <img src="images/logbook11/private-exponent.png">
</details>

<details>
    <summary>Prime Numbers (p & q)</summary>
    <img src="images/logbook11/prime-numbers.png">
</details>


### Tarefa 2
 
Gerámos um certificado para o site www.dsg.com através do seguinte comando:
```bash
openssl req -newkey rsa:2048 -sha256 \
    -keyout server.key -out server.csr \
    -subj "/CN=www.dsg.com/O=DSG INC./C=PT" \
    -passout pass:dees
```
Através dos seguintes comando conseguimos ver o conteúdo do CSR e da chave privada:
```bash
openssl req -in server.csr -text -noout
openssl rsa -in server.key -text -noout
```
<details>
    <summary>CSR</summary>
    <img src="images/logbook11/t2-csr.png">
</details>

<details>
    <summary>Private Key</summary>
    <hr>

```bash

RSA Private-Key: (2048 bit, 2 primes)
modulus:
    00:b2:cc:30:fa:58:32:7f:2c:4b:7e:4a:c8:6b:f0:
    1f:97:95:ea:28:50:24:d5:1a:0b:6f:0f:f6:05:b2:
    42:ac:1e:1b:21:5c:c9:7c:6f:83:9a:51:0c:94:e8:
    56:32:a2:ea:be:ad:9e:4f:8a:6a:49:49:4c:75:ff:
    d2:62:fd:af:97:46:3e:b1:f4:7e:70:ec:66:4b:e4:
    aa:47:ef:d5:f8:8b:9e:15:60:73:89:0a:22:40:2f:
    40:d9:ac:ef:bd:1b:71:c6:4a:68:e1:2f:71:49:ca:
    b4:2b:89:31:60:be:95:d8:be:dd:68:37:a2:78:ce:
    07:0e:9a:aa:be:16:50:d0:96:6a:e8:8e:cf:eb:62:
    15:74:6e:6c:b4:4a:d4:e1:ae:a0:4d:67:ab:a7:86:
    ba:09:cc:75:96:e1:26:11:eb:16:bf:2b:c8:2a:13:
    90:05:b5:86:7f:ca:df:54:12:43:d3:6c:d7:db:63:
    c9:05:16:cf:15:fa:b3:f1:3c:30:f3:6b:a8:8a:21:
    95:92:98:be:3f:2e:59:8a:c0:cb:d7:59:96:7c:c6:
    54:89:6e:84:1d:6f:97:e1:e9:ac:52:0d:77:3c:be:
    d2:39:d7:5b:87:27:88:a8:bd:b1:76:5c:6c:17:33:
    8b:20:b4:b3:e4:2a:4b:d5:b2:13:83:84:39:8d:9c:
    ec:ff
publicExponent: 65537 (0x10001)
privateExponent:
    4e:cd:ca:84:7c:5c:fd:4a:33:97:dd:34:0a:c6:d1:
    d5:c8:e0:64:96:36:35:aa:7e:01:9c:62:4d:ce:6c:
    ae:59:b2:91:78:c8:e1:4c:71:0f:91:cb:5e:d2:2c:
    33:b3:34:8d:88:0e:2f:76:8d:33:f1:d7:7e:66:9b:
    7e:bf:db:25:6c:73:73:91:94:2d:07:34:6b:1c:c4:
    a4:62:23:c7:a1:19:b2:c8:49:03:cc:70:9e:23:75:
    8c:bb:39:0a:fb:4e:a1:1b:e8:af:df:6e:2a:1c:ea:
    5e:09:e0:b6:88:29:99:57:3e:54:91:b8:cd:4f:d9:
    32:69:9e:f9:9a:f2:51:8c:4d:c8:02:7c:01:03:1e:
    28:52:78:b9:ab:af:85:dc:d7:7a:ab:f9:44:03:7a:
    5e:7f:c6:a6:9b:eb:a1:b0:84:c0:08:ca:ac:61:f5:
    26:94:94:47:c7:e3:94:63:aa:03:f1:ba:49:51:42:
    6e:ae:77:c0:c1:04:af:db:f6:e3:3d:a0:58:21:f0:
    19:03:fe:ad:a3:87:55:ba:61:88:6d:3c:8f:d6:0a:
    53:95:72:37:d0:d5:9b:44:ff:82:86:41:3d:8b:bf:
    87:e6:38:cd:91:1a:35:03:4e:79:43:b5:3b:21:20:
    ce:f7:b5:6d:34:5d:16:ea:9a:ee:b8:9a:e8:20:b0:
    e1
prime1:
    00:d7:33:4b:3b:e1:c8:25:98:e2:e2:89:5c:a7:62:
    51:c4:d7:3f:cb:66:11:3b:ef:45:fd:1d:35:02:b2:
    de:ea:30:d4:aa:75:fc:cb:90:5d:e1:20:95:c9:ff:
    c0:d7:46:92:44:9f:ca:1f:2b:28:8b:5a:bb:0b:63:
    57:7f:a2:b8:37:1c:85:a8:1b:74:9e:d9:79:84:4d:
    05:b1:63:d1:94:6c:67:fd:fd:d2:97:c5:17:9e:38:
    eb:b6:35:d4:93:62:28:d3:8d:c1:80:31:08:c3:1b:
    f0:69:63:91:1a:be:71:e9:1a:ed:7a:d9:57:b6:dd:
    18:c6:df:ed:1e:e5:23:39:cf
prime2:
    00:d4:b2:18:fe:23:42:02:1e:aa:73:d7:59:e7:0a:
    f4:d5:15:ae:50:b9:4f:db:a8:a7:d6:63:e6:86:11:
    f3:06:ce:03:a3:fb:2e:1f:f6:17:fa:33:e9:52:4d:
    70:3c:74:a4:a2:6e:97:70:ef:73:48:0d:f2:e7:3b:
    8b:3e:4a:fa:dc:d6:76:29:55:64:18:b7:d1:58:38:
    9e:9d:be:d9:4c:11:2d:b4:f2:14:fd:69:92:84:c9:
    4f:1e:8e:1c:43:f8:d1:19:85:42:8b:99:ac:3b:53:
    69:40:9f:a8:27:a8:69:53:3f:f0:92:a5:2f:c7:a0:
    c3:53:e9:95:55:bb:07:55:d1
exponent1:
    1d:df:e7:0f:d7:16:3b:f1:ef:7d:57:68:5f:6c:4c:
    c1:b0:c8:10:6a:88:f5:f3:0f:9a:45:d5:b8:1c:30:
    c9:fe:21:67:d0:9d:59:7d:1f:2b:43:a4:c7:b8:13:
    83:4f:2e:bb:0c:1b:b9:1b:fa:b2:ed:d3:8d:8f:2a:
    f4:73:18:73:be:27:e7:e0:77:de:1d:7e:bb:19:1e:
    33:34:12:42:32:92:75:36:29:68:1c:5a:5d:02:b5:
    e6:43:ae:d1:0f:0d:6f:e0:fb:fd:d9:d0:c7:95:37:
    58:ca:13:b8:cc:bb:6f:8a:e7:70:e8:7f:3e:c9:8e:
    c8:fd:09:24:02:d7:53:0d
exponent2:
    62:b7:5a:34:31:87:04:56:d9:43:b4:92:8c:52:20:
    79:f9:7b:13:0a:3f:0f:33:02:da:d5:38:fb:c6:be:
    e5:cc:9e:11:f0:95:62:ce:24:28:c3:09:2a:62:b8:
    91:c6:8d:56:ba:3f:5d:72:35:2e:1f:13:3a:d0:fe:
    fa:65:70:73:28:b2:64:d2:b6:07:66:e1:29:b1:f5:
    a4:3f:1c:b9:5a:4b:bd:6c:91:e3:5f:a9:5a:29:d8:
    a7:d4:cb:37:9c:f6:e7:82:5a:f5:51:d8:87:1c:5a:
    80:5c:d9:7d:b6:83:53:d9:1c:3d:e3:9e:fe:67:15:
    e1:0f:4b:79:23:b9:ee:d1
coefficient:
    37:47:ac:9b:bc:87:9e:0b:aa:9d:b4:37:0b:f9:c3:
    ab:ca:86:c7:c1:46:c1:2d:8f:9b:fb:5f:5d:61:b6:
    e3:12:e4:d7:6c:76:d3:c0:ce:e6:55:5c:88:f0:07:
    44:59:4a:99:02:6d:a6:e8:bf:37:72:cb:11:7d:e6:
    47:12:f5:29:51:dc:6e:c8:23:82:c0:e5:aa:fc:fb:
    e9:cd:e2:f6:41:e5:03:57:4b:6a:12:54:26:9b:0e:
    a2:ab:bb:71:e1:69:26:f9:8b:0f:f9:0d:4d:35:4d:
    f8:dd:82:b3:4f:60:dc:a6:b4:6a:00:70:73:7e:61:
    10:ad:e2:ca:ce:ce:29:b8

```
</details>

Com o seguinte comando adicionamos 2 nomes alternativos ao certificado:
```bash
openssl req -newkey rsa:2048 -sha256 \
-keyout server.key -out server.csr \
-subj "/CN=www.dsg.com/O=DSG INC./C=PT" \
-passout pass:dees \
-addext "subjectAltName = DNS:www.dsg.com, DNS:www.dsg1.com, DNS:www.dsg2.com"
```
Ao correr o comando `openssl req -in server.csr -text -noout` podemos verificar que os nomes alternativos foram adicionados:

<img src="images/logbook11/t2-alt-names.png">


### Tarefa 3

